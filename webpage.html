<html>
    <head>
        <title>Webpage</title>
        <link rel="stylesheet" href = "CSS/style_6.css">
        <script type = "text/javascript">

var image;
var image_copy;
var image_reset;
var imagecanvas=document.getElementById("can");

function upload()
{
  var imagecanvas=document.getElementById("can");
  var fileinput=document.getElementById("finput");
 image = new SimpleImage(fileinput);
 image_copy = new SimpleImage(fileinput);
 image_reset = new SimpleImage(fileinput);
  image.drawTo(imagecanvas);

}
function makeGray()
{
  
  var imagecanvas=document.getElementById("can");
for(var pixel of image.values())
{

var avg= (pixel.getGreen()+pixel.getBlue()+pixel.getRed())/3;
 pixel.setRed(avg);
 pixel.setGreen(avg);
 pixel.setBlue(avg);
}
image.drawTo(imagecanvas);

}
function resetImage()
{
  var imagecanvas=document.getElementById("can");
  image_reset.drawTo(imagecanvas);


}
function makeRed(){
 var redImage=image_copy;
var imagecanvas=document.getElementById("can");
for(var pixel of redImage.values()){

pixel.setRed(255);

}
redImage.drawTo(imagecanvas);


}
        </script>

    </head>
    
    
   <body>
    

    <script type="text/javascript" src="https://www.dukelearntoprogram.com/course1/common/js/image/SimpleImage.js"></script>
<h1>Upload and Display Image</h1>
<canvas id="can"></canvas>
<p > 
  <input type="file" multiple="false" accept="image/*" id="finput" onchange="upload()"/><br><br>

</p>

<p id="p1"></p>
<p>
  Choose Filter: <br>

  <input type="button" value="GrayScale" onclick="makeGray()" id="grey">
  <input type="button" value="RedShade" onclick="makeRed()" id="red">
  <input type="button" value="Reset" onclick= "resetImage()" id="reset">
</p>
    

   </body>


</html>
    